$(document).ready(function () {
  $(".goods-grid__item").on('click', function () {
    $(".goods-grid__item").off('click');

    let puzzleBlock = document.querySelector(".puzzle");
    let prizeNumber = $(this).attr('data-prize-start');
    let prizeImage = $(`*[data-prize-image="${prizeNumber}"]`)[0];
    puzzleBlock.style.setProperty("--puzzle-img", `url(${prizeImage.currentSrc})`);
    document.getElementById("modal-prize-image").src = prizeImage.currentSrc;

    const puzzle = new Puzzle(document.querySelector(".puzzle"), prizeImage.dataset.imageRow, prizeImage.dataset.imageCol);
    start(puzzle);

    $(`*[data-prize="${prizeNumber}"]`).each(function (i) {
      $(this).css('display', 'block');
    });

    $("#content1").fadeOut("slow", function () {
      $("#content2").fadeIn();
    });

    $(".bq1").click(function () {
      $(".prize-q1").fadeOut("slow", function () {
        $(".prize-q2").fadeIn("slow");
      });
    }),
      $(".bq2").click(function () {
        $(".prize-q2").fadeOut("slow", function () {
          $(".prize-q3").fadeIn("slow");
        });
      }),
      $(".bq3").click(function () {
        $(".prize-q3").fadeOut("slow", function () {
          $(".prize-q4").fadeIn("slow");
        });
      }),
      $(".bq4").click(function () {
        scrollTo("id1"),
          $("#content2").fadeOut("slow", function () {
            $("#content3").fadeIn();

          });
      });
  });
});
